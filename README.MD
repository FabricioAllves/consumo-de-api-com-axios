
<h3 align="center">CONSUMO DE API COM AXIOS</h3>

<div align="center">

<!-- [![Status](https://img.shields.io/badge/Status-Complete-brightgreen)]() -->

</div>

---

<p align="center"> Objetivo do projeto: 
  Avaliar a capacidade t√©cnica, cr√≠tica e racioc√≠nio l√≥gico, na constru√ß√£o de uma API para acesso a uma camada de dados.
  Fazer consumo da api em um front externo.
    <br> 
</p>

## üìù Indice

- [Sobre](#about)
- [Primeiros passos](#getting_started)
- [Como usar](#usage)
- [Built Using](#built_using)


## üßê Sobre <a name = "about"></a>

<p>
    API do repositorio [api-rest-games](https://github.com/fabricio-26/api-rest-games) onde neste repositorio atual, refatorei toda a logica que fica no index e crei suas camadas Routes, controller.
    Api tem como fun√ß√£o basica de criar um game definindo title, year e price podendo editar, procurar por todos ou um id, deletar e listar.
    Retornando um Json com resumo do que h√° no banco.
</p>


## üèÅ Primeiros passos <a name = "getting_started"></a>

### Pre-requisitos
Banco de dados MySQL

Node.js e NPM instalado na maquina que ir√° rodar o projeto.

Cria√ß√£o das v√°riaveis de ambiente que s√£o necess√°rias neste projeto para acesso e manipula√ß√£o do banco.


| Arquivo            | Vari√°vel          | Descri√ß√£o                                              |
| ------------------ | ----------------- | ------------------------------------------------------ |
| DATABASE.JS        | DATABASE_DATABASE | Nome da Tabela no banco de dados                       |
| DATABASE.JS        | DATABASE_USERNAME | Usuario de acesso ao banco de dados                    |
| DATABASE.JS        | DATABASE_PASSWORD | Senha de acesso ao banco de dados                      |

<img src="https://github.com/fabricio-26/api-rest-games/blob/main/api/others/img.jpeg">


### Instalando

Iniciar instala√ß√£o de pacotes necess√°rios com NPM:
```
npm install
```
Executar servi√ßo API:
```
node index.js
```
Se tudo ocorreu bem, ap√≥s ter configurado corretamente o banco de dados, ap√≥s executar o comando acima, dever√° obter a seguinte mensagem no terminal:
```
Server started on port 3333! üèÜ GET http://localhost:3333
```
Indicando que o servidor est√° rodando em localhost na porta 3333
## üéà Games EndPoints <a name="usage"></a>
_Endpoint_

<hr>

### GET Rountes

#### */games/*
Este _EndPoint_ retorna uma lista com todas as informa√ß√µes sobre todos os jogos registrados no banco de dados.

##### - Parameters
Esta rota n√£o tem nenhum par√¢metro.

##### - Retorno
###### OK 200 ```OK```
Se for retornado **OK**, √© porque est√° tudo ok, e todos os jogos foram retornados.
Exemplo:
```
[
  {
    "id": 1,
    "title": "FIFA 2022",
    "year": 2022,
    "price": 199,
    "createdAt": "2022-10-13T12:12:35.000Z",
    "updatedAt": "2022-10-13T12:12:35.000Z"
  },
  {
    "id": 2,
    "title": "CS: GO",
    "year": 2010,
    "price": 59,
    "createdAt": "2022-10-13T12:14:11.000Z",
    "updatedAt": "2022-10-13T12:14:11.000Z"
  }
]
```
###### Bad Request 400 ```Bad Request```
Esta resposta √© retornada se a solicita√ß√£o n√£o for v√°lida.

<!-- ###### Internal server error 500 ```Internal server error```
Esta resposta √© retornada se algo ruim aconteceu no servidor ou se a rota colocada no campo url n√£o existe. -->

<hr>

#### */search/:id*
Esta rota √© usada para retornar um jogo espec√≠fico, que tem o id recebido como par√¢metro, como *id*.

##### - Parameters
###### *id* 
Nesta rota o usu√°rio deve passar o **id** do jogo para retornar suas informa√ß√µes.

##### - Retornos
###### Bad Request 400 ```Bad Request```
Se o par√¢metro *id* n√£o for um n√∫mero, ser√° retornado `` Bad request 400 ``
<!-- ###### internal Server Error 500 ```internal Server Error```
Se esta resposta for retornada √© porque algo ruim aconteceu no servidor; -->
###### Not found 404 ```Not found```
Se a resposta for `` Not found 404 ``, √© porque a API recebeu e aceitou o par√¢metro,
mas foi encontrado algum jogo com o par√¢metro como *id*
###### OK 200 ```OK``
Se for retornado *OK*, √© porque os par√¢metros foram aceitos, e os jogos foram encontrados e devolvidos com sucesso.
 Assim o games, que tem o par√¢metro id como id, as informa√ß√µes ser√£o retornadas.
Exempplo:
```
{
  "i"id": 2,
	"title": "CS: GO",
	"year": 2010,
	"price": 59,
	"createdAt": "2022-10-13T12:14:11.000Z",
	"updatedAt": "2022-10-13T12:14:11.000Z"
  }
```
<hr>

### POST  Routes 
#### */createGame*

##### - Par√¢metros
*Os par√¢metros de rotas devem ser passados ‚Äã‚Äãcomo **par√¢metros do corpo**. E qualquer um pode ser nulo ou indefinido.*
###### title
Este ser√° o t√≠tulo dos jogos;
###### price
Este ser√° o pre√ßo do jogo. *Este valor pode ser **0***
###### year
Este ser√° o ano em que o jogo foi criado.

##### - Retornos

###### Created 201 ```Created```
Esta resposta ser√° retornada se o jogo foi criado com sucesso.
###### Bad request 400 ```Bad request```
Esta resposta ser√° retornada se os par√¢metros recebidos forem inv√°lidos.
<!-- ###### Internal Server Error 500 ```Internal Server Error```
Esta resposta ser√° retornada se algo de ruim acontecer no servidor. -->

<hr>

### DELETE  Routes 
#### */remove/:id*

##### - Parameters
###### id
Esta rota receber√° um par√¢metro, chamado `id`, que ser√° usado para encontrar o jogo que ser√° deletado.

##### - Answers
###### OK 200 ```OK  ```
Se for retornado *OK*, √© porque os par√¢metros foram aceitos, os jogos foram encontrados e deletados com sucesso.
###### Not found 404 ```Not found ```
Se a resposta retornada for Bad Request, √© porque a API recebeu e aceitou o par√¢metro,
mas foi encontrado algum jogo com o par√¢metro como *id*
###### Bad request 400 ``` Bad request ```
Esta resposta ser√° retornada se os par√¢metros recebidos forem inv√°lidos.
<!-- ###### Internal Server Error 500 ```Internal Server Error ```
Esta resposta ser√° retornada se algo de ruim acontecer no servidor. -->

<hr>

### PUT  Routes 
#### */update/:id*

##### - Parameters
*O ID do jogo precisa ser passado como par√¢metro, mas as informa√ß√µes do jogo devem ser passadas como **par√¢metros do corpo**. E qualquer um pode ser nulo ou indefinido.*
###### title
Este ser√° o novo t√≠tulo do jogo.
###### price
Este ser√° o novo pre√ßo do jogo. *Este valor pode ser **0***
###### year
Este ser√° o novo ano em que o jogo foi criado.

##### - Answers
###### Created 200 ```OK```
Esta resposta ser√° retornada se o jogo foi atualizado com sucesso.
###### Bad request 400 ```Bad request ```
Esta resposta ser√° retornada se os par√¢metros recebidos forem inv√°lidos.
<!-- ###### Internal Server Error 500 ```Internal Server Error ```
Esta resposta ser√° retornada se algo de ruim acontecer no servidor. -->
###### Not found 404 ```Not found ```
Se a resposta retornada for Bad Request, √© porque a API recebeu e aceitou o par√¢metro, mas n√£o foi encontrado algum jogo com o par√¢metro *id*.

<hr>


## ‚õèÔ∏è Built Using <a name = "built_using"></a>

- [MySQL](https://https://www.mysql.com/) - Database
- [Express](https://expressjs.com/) - Server Framework
- [NodeJs](https://nodejs.org/en/) - Server Environment
- [Sequelize](https://sequelize.org/) - ORM Framework

